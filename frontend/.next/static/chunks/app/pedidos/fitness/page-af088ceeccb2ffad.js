(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{6869:function(e,t,a){Promise.resolve().then(a.bind(a,5273))},5273:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var s=a(7437),n=a(2265),l=a(2439),o=a(9973),i=a(6932),r=a(5113),d=a(9413),c=a(4613),u=function(){let{idCliente:e}=(0,c.l)(),[t,a]=(0,n.useState)([]),[,l]=(0,n.useState)(""),[o,i]=(0,n.useState)([]),[r,u]=(0,n.useState)(0),[m,p]=(0,n.useState)(0),[h,x]=(0,n.useState)(null),[g,j]=(0,n.useState)(""),[v,f]=(0,n.useState)(""),b=new Date(Date.now()),_=String(b.getDate()).padStart(2,"0"),N=String(b.getMonth()+1).padStart(2,"0"),S=b.getFullYear(),y="".concat(S,"-").concat(N,"-").concat(_);async function E(){try{let e=await d.f.get("/servicos_diversos/lista_fitness");a(e.data)}catch(e){console.error("Erro ao buscar clientes:",e)}}(0,n.useEffect)(()=>{E()},[]);let C=e=>{i(o.filter((t,a)=>a!==e)),function(){let e=document.getElementById("detalhes"),t=document.getElementById("quanti");if(e&&t){let a=e.options.length-1;t.value=a.toString()}}()},F=async()=>{try{let t=await d.f.post("/pedidos/cadastro_marmitex",{id_cliente:e,segmento:"Fitness",situacao:"em preparo",situacaof:"a pagar",valor:Number(m),observacao:g,dia:y,pedido:o.map(e=>e.nome_prato)});console.log("Pedido enviado:",t.data),l(""),i([]),u(0),x(null),j(""),f("")}catch(e){console.error("Erro ao enviar pedido:",e)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"clientes",children:[(0,s.jsxs)("div",{className:"dados_pedidos",children:[(0,s.jsxs)("section",{className:"disponivel",children:[(0,s.jsx)("label",{htmlFor:"",id:"cardapio",className:"labels",children:"Pratos Ofertados"}),(0,s.jsx)("textarea",{id:"categoria1",className:"inputs",readOnly:!0,value:t.map(e=>"".concat(e.nome_prato,"        ")).join("\n")})]}),(0,s.jsxs)("section",{className:"pedido",children:[(0,s.jsx)("label",{htmlFor:"",id:"pedir",className:"labels",children:"Pedido do Cliente"}),(0,s.jsxs)("select",{name:"",id:"categoria2",className:"inputs",onChange:e=>x(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Escolha o prato pedido pelo cliente"}),t.map(e=>(0,s.jsx)("option",{value:e.nome_prato,children:"".concat(e.nome_prato)},e.nome_prato))]}),(0,s.jsx)("button",{id:"bp",onClick:()=>{if(h){let e=t.find(e=>e.nome_prato===h);e&&(i([...o,e]),function(){let e=document.getElementById("detalhes"),t=document.getElementById("quanti");if(e&&t){let a=e.options.length+1;t.value=a.toString()}}())}},children:"Incluir"}),(0,s.jsx)("select",{name:"",id:"detalhes",className:"inputs",size:5,multiple:!0,onChange:e=>l(e.target.value),onDoubleClick:e=>{let t=e.currentTarget.selectedIndex;t>=0&&C(t)},children:o.map(e=>(0,s.jsx)("option",{value:e.nome_prato,children:"".concat(e.nome_prato," ")},e.nome_prato))}),(0,s.jsx)("label",{htmlFor:"",id:"total",className:"labels",children:"Valor Total"}),(0,s.jsx)("input",{type:"text",id:"valor1",className:"inputs",onChange:e=>{p(Number(e.target.value))}}),(0,s.jsx)("label",{htmlFor:"",id:"quant",className:"labels",children:"Quantidade"}),(0,s.jsx)("input",{type:"text",className:"inputs",id:"quanti"}),(0,s.jsx)("label",{htmlFor:"",id:"obs_pedido",className:"labels",children:"Observa\xe7\xf5es do Pedido"}),(0,s.jsx)("textarea",{name:"",id:"observa",className:"inputs",value:g,onChange:e=>j(e.target.value)}),(0,s.jsx)("label",{htmlFor:"",className:"labels",id:"dtentrega",children:"Data de Entrega"}),(0,s.jsx)("input",{type:"date",id:"entrega",value:v,onChange:e=>f(e.target.value),className:"inputs"}),(0,s.jsx)("button",{id:"botao_cad1",onClick:F,children:"Processar"})]})]}),(0,s.jsx)("div",{})]})})},m=function(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.H,{children:[(0,s.jsx)(l.default,{}),(0,s.jsx)(o.default,{}),(0,s.jsx)(i.default,{}),(0,s.jsx)(r.Z,{}),(0,s.jsx)("h1",{id:"servico_pedidos",children:"Pedidos Fitness"}),(0,s.jsx)(u,{})]})})}}},function(e){e.O(0,[785,464,716,971,117,744],function(){return e(e.s=6869)}),_N_E=e.O()}]);